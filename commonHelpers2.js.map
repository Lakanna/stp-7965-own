{"version":3,"file":"commonHelpers2.js","sources":["../src/js/mobile-menu.js","../src/js/about-vanilla.js","../src/js/hero-button.js","../src/js/gallery.js","../src/js/cookie-popup.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const menuToggle = document.querySelector('.js-menu-toggle');\n  const menu = document.querySelector('.js-menu');\n  const overlay = document.createElement('div');\n  const menuLinks = document.querySelectorAll('.header-nav-list a');\n  const body = document.body;\n\n  overlay.classList.add('overlay');\n  document.body.appendChild(overlay);\n\n  function toggleMenu() {\n    if (window.innerWidth < 1200) {\n      menu.classList.toggle('active');\n      menuToggle.classList.toggle('active');\n      overlay.classList.toggle('active');\n\n      if (menu.classList.contains('active')) {\n        body.classList.add('no-scroll');\n      } else {\n        body.classList.remove('no-scroll');\n      }\n    }\n  }\n\n  menuToggle?.addEventListener('click', toggleMenu);\n  overlay.addEventListener('click', toggleMenu);\n\n  menuLinks.forEach(link => {\n    link.addEventListener('click', function () {\n      if (window.innerWidth < 1200) {\n        setTimeout(toggleMenu, 300);\n      }\n    });\n  });\n});\n","import VanillaTilt from 'vanilla-tilt';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const tiltElement = document.querySelector('.about-img');\n\n  if (!tiltElement) {\n    return;\n  }\n\n  let initialRotateX = 5;\n  let initialRotateY = -35;\n\n  const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\n\n  if (tiltElement.vanillaTilt) {\n    tiltElement.vanillaTilt.destroy();\n  }\n\n  VanillaTilt.init(tiltElement, {\n    max: isMobile ? 20 : 40,\n    speed: isMobile ? 200 : 400,\n    perspective: isMobile ? 1200 : 800,\n    mobile: true,\n    gyroscope: isMobile ? false : true,\n  });\n\n  setTimeout(() => {\n    tiltElement.style.transform = `rotateX(${initialRotateX}deg) rotateY(${initialRotateY}deg) scale(1)`;\n  }, 100);\n\n  if (isMobile) {\n    tiltElement.addEventListener('touchmove', function (event) {\n      const touch = event.touches[0];\n      const rect = tiltElement.getBoundingClientRect();\n\n      const x = (touch.clientX - rect.left) / rect.width;\n      const y = (touch.clientY - rect.top) / rect.height;\n\n      const tiltX = initialRotateX - (y - 0.5) * 20;\n      const tiltY = initialRotateY + (x - 0.5) * 20;\n\n      tiltElement.style.transition = 'transform 0.1s ease-out';\n      tiltElement.style.transform = `rotateX(${tiltX}deg) rotateY(${tiltY}deg) scale(1)`;\n    });\n  }\n\n  tiltElement.addEventListener('mouseleave', function () {\n    requestAnimationFrame(() => {\n      tiltElement.style.transform = `rotateX(${initialRotateX}deg) rotateY(${initialRotateY}deg) scale(1)`;\n    });\n  });\n\n  tiltElement.addEventListener('touchend', function () {\n    requestAnimationFrame(() => {\n      tiltElement.style.transform = `rotateX(${initialRotateX}deg) rotateY(${initialRotateY}deg) scale(1)`;\n    });\n  });\n});\n","document.addEventListener('DOMContentLoaded', function () {\n  const heroBtn = document.querySelector('.hero-btn');\n\n  if (heroBtn) {\n    heroBtn.addEventListener('mouseenter', () => {\n      heroBtn.classList.add('hover');\n    });\n    heroBtn.addEventListener('mouseleave', () => {\n      heroBtn.classList.remove('hover');\n    });\n  }\n});\n","var radius = window.innerWidth >= 1200 ? 470 : 140; // Радиус зависит от экрана\nvar autoRotate = true; // Автовращение\nvar rotateSpeed = window.innerWidth >= 1200 ? -40 : -30; // Время одного оборота (чем меньше, тем быстрее)\nvar imgWidth = window.innerWidth >= 1200 ? 234 : 120;\nvar imgHeight = window.innerWidth >= 1200 ? 450.6 : 170;\n\n// DOM элементы\nvar odrag = document.getElementById('drag-container');\nvar ospin = document.getElementById('spin-container');\nvar ground = document.getElementById('ground');\n\n// Функция для обновления галереи при изменении экрана\nfunction updateGallery() {\n  if (window.innerWidth >= 1200) {\n    radius = 470;\n    imgWidth = 234;\n    imgHeight = 450.6;\n  } else {\n    radius = 140;\n    imgWidth = 120;\n    imgHeight = 170;\n  }\n\n  // Пересчитываем размеры контейнера изображений\n  ospin.style.width = imgWidth + 'px';\n  ospin.style.height = imgHeight + 'px';\n\n  // Обновляем размеры всех изображений\n  let allImages = ospin.getElementsByTagName('img');\n  for (let img of allImages) {\n    img.style.width = imgWidth + 'px';\n    img.style.height = imgHeight + 'px';\n  }\n\n  // Пересчёт размеров ground\n  ground.style.width = radius * 3 + 'px';\n  ground.style.height = radius * 3 + 'px';\n\n  // Пересчёт позиций элементов\n  init(1);\n}\n\n// Функция для размещения изображений по кругу\nfunction init(delayTime) {\n  var allImages = Array.from(ospin.getElementsByTagName('img'));\n  var aVid = ospin.getElementsByTagName('video');\n\n  // Фильтруем изображения:\n  var filteredImages =\n    window.innerWidth >= 1200 ? allImages : allImages.slice(0, 6);\n  var aEle = [...filteredImages, ...aVid]; // Берём только нужные изображения\n\n  // Размер контейнера для изображений\n  ospin.style.width = imgWidth + 'px';\n  ospin.style.height = imgHeight + 'px';\n\n  // Размещение изображений (только отфильтрованные)\n  for (var i = 0; i < aEle.length; i++) {\n    let angle = (i * 360) / aEle.length;\n    aEle[i].style.transform = `rotateY(${angle}deg) translateZ(${radius}px)`;\n    aEle[i].style.transition = 'transform 1s';\n    aEle[i].style.transitionDelay = delayTime || (aEle.length - i) / 4 + 's';\n  }\n}\n\n// Функция применения трансформации (Ограничение угла наклона)\nfunction applyTranform(obj) {\n  let maxTilt = 85; // Максимальный наклон сверху (85°)\n  let isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);\n  let minTilt = isMobile ? 20 : 15; // Минимальный наклон (0° - нельзя смотреть под карусель)\n\n  if (tY > maxTilt) tY = maxTilt;\n  if (tY < minTilt) tY = minTilt;\n\n  obj.style.transform = `rotateX(${-tY}deg) rotateY(${tX}deg)`;\n}\n\n// Управление вращением\nfunction playSpin(yes) {\n  ospin.style.animationPlayState = yes ? 'running' : 'paused';\n}\n\n// Переменные для управления вращением\nvar sX,\n  sY,\n  nX,\n  nY,\n  desX = 0,\n  desY = 0,\n  tX = 0,\n  tY = 15;\n\n// Автоматическое вращение\nif (autoRotate) {\n  var animationName = rotateSpeed > 0 ? 'spin' : 'spinRevert';\n  ospin.style.animation = `${animationName} ${Math.abs(\n    rotateSpeed\n  )}s infinite linear`;\n}\n\n// Управление мышью (перетаскивание)\ndocument.onpointerdown = function (e) {\n  clearInterval(odrag.timer);\n  e = e || window.event;\n  var sX = e.clientX,\n    sY = e.clientY;\n\n  this.onpointermove = function (e) {\n    e = e || window.event;\n    var nX = e.clientX,\n      nY = e.clientY;\n    desX = nX - sX;\n    desY = nY - sY;\n    tX += desX * 0.1;\n    tY += desY * 0.1;\n    applyTranform(odrag);\n    sX = nX;\n    sY = nY;\n  };\n\n  this.onpointerup = function () {\n    odrag.timer = setInterval(function () {\n      desX *= 0.95;\n      desY *= 0.95;\n      tX += desX * 0.1;\n      tY += desY * 0.1;\n      applyTranform(odrag);\n      playSpin(false);\n      if (Math.abs(desX) < 0.5 && Math.abs(desY) < 0.5) {\n        clearInterval(odrag.timer);\n        playSpin(true);\n      }\n    }, 17);\n    this.onpointermove = this.onpointerup = null;\n  };\n\n  return false;\n};\n\n// Функция для открытия изображений в полноэкранном режиме (lightbox)\nfunction setupLightbox() {\n  let images = ospin.getElementsByTagName('img');\n  let lightbox = document.getElementById('lightbox');\n  let lightboxImg = document.getElementById('lightbox-img');\n  let closeBtn = document.querySelector('.close');\n\n  for (let img of images) {\n    img.addEventListener('click', function () {\n      lightbox.style.display = 'flex'; // Показываем модальное окно\n      setTimeout(() => {\n        lightbox.classList.add('show');\n        lightboxImg.src = this.src;\n        lightboxImg.alt = this.alt;\n      }, 10);\n    });\n  }\n\n  // Закрытие модального окна при клике на \"×\"\n  closeBtn.addEventListener('click', function () {\n    lightbox.classList.remove('show');\n    setTimeout(() => {\n      lightbox.style.display = 'none';\n      lightboxImg.src = '';\n    }, 300);\n  });\n\n  // Закрытие при клике вне изображения\n  lightbox.addEventListener('click', function (e) {\n    if (e.target === lightbox) {\n      lightbox.classList.remove('show');\n      setTimeout(() => {\n        lightbox.style.display = 'none';\n        lightboxImg.src = '';\n      }, 300);\n    }\n  });\n}\n\n// Инициализация галереи и обработка изменения размера экрана\nsetTimeout(updateGallery, 1000);\nwindow.addEventListener('resize', updateGallery);\n// Пересчитываем галерею при изменении экрана\n\nsetupLightbox();\n","document.addEventListener('DOMContentLoaded', function () {\n  const popup = document.querySelector('.js-cookies-popup');\n  const acceptBtn = document.querySelector('.js-accept-button');\n  const declineBtn = document.querySelector('.js-decline-button');\n\n  if (localStorage.getItem('cookiesAccepted')) {\n    popup.classList.add('hidden');\n  }\n\n  if (localStorage.getItem('cookiesDeclined')) {\n    popup.classList.add('hidden');\n  }\n\n  acceptBtn.addEventListener('click', function () {\n    localStorage.setItem('cookiesAccepted', 'true');\n    popup.classList.add('hidden');\n  });\n\n  declineBtn.addEventListener('click', function () {\n    localStorage.setItem('cookiesDeclined', 'true');\n    popup.classList.add('hidden');\n  });\n});\n"],"names":["menuToggle","menu","overlay","menuLinks","body","toggleMenu","link","tiltElement","initialRotateX","initialRotateY","isMobile","VanillaTilt","event","touch","rect","x","y","tiltX","tiltY","heroBtn","radius","rotateSpeed","imgWidth","imgHeight","odrag","ospin","ground","updateGallery","allImages","img","init","delayTime","aVid","filteredImages","aEle","i","angle","applyTranform","obj","maxTilt","minTilt","tY","tX","playSpin","yes","desX","desY","animationName","sX","sY","e","nX","nY","setupLightbox","images","lightbox","lightboxImg","closeBtn","popup","acceptBtn","declineBtn"],"mappings":"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"}
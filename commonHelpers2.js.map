{"version":3,"file":"commonHelpers2.js","sources":["../src/js/mobile-menu.js","../src/js/about-vanilla.js","../src/js/hero-button.js","../src/js/gallery.js","../src/js/cookie-popup.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\n  const menuToggle = document.querySelector('.js-menu-toggle');\n  const menu = document.querySelector('.js-menu');\n\n  menuToggle.addEventListener('click', function () {\n    const isOpen = menu.classList.contains('active');\n\n    if (isOpen) {\n      menu.style.maxHeight = '0';\n      setTimeout(() => menu.classList.remove('active'), 300);\n    } else {\n      menu.classList.add('active');\n      menu.style.maxHeight = menu.scrollHeight + 'px';\n    }\n\n    menuToggle.classList.toggle('active');\n  });\n});\n","import VanillaTilt from 'vanilla-tilt';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const tiltElement = document.querySelector('.about-img');\n\n  let initialRotateX = 5;\n  let initialRotateY = -35;\n\n  tiltElement.style.transform = `rotateX(${initialRotateX}deg) rotateY(${initialRotateY}deg) scale(1)`;\n\n  VanillaTilt.init(tiltElement, {\n    max: 40, // Максимальный угол наклона\n    speed: 400, // Скорость анимации\n    glare: true, // Включает блик\n    'max-glare': 0.5, // Интенсивность блика\n    perspective: 1000, // Глубина перспективы\n    mobile: true, // Включаем поддержку мобильных\n    gyroscope: true, // Используем гироскоп на телефоне\n  });\n\n  tiltElement.addEventListener('mouseleave', function () {\n    requestAnimationFrame(() => {\n      tiltElement.style.transform = `rotateX(${initialRotateX}deg) rotateY(${initialRotateY}deg) scale(1)`;\n    });\n  });\n});\n","document.addEventListener('DOMContentLoaded', function () {\n  const heroBtn = document.querySelector('.hero-btn');\n\n  if (heroBtn) {\n    heroBtn.addEventListener('mouseenter', () => {\n      heroBtn.classList.add('hover');\n    });\n\n    heroBtn.addEventListener('mouseleave', () => {\n      heroBtn.classList.remove('hover');\n    });\n  }\n});\n","var radius = window.innerWidth >= 1200 ? 470 : 140; // Радиус зависит от экрана\nvar autoRotate = true; // Автовращение\nvar rotateSpeed = -60; // Время одного оборота (чем меньше, тем быстрее)\nvar imgWidth = window.innerWidth >= 1200 ? 234 : 120;\nvar imgHeight = window.innerWidth >= 1200 ? 450.6 : 170;\n\n// Музыка (можно отключить)\nvar bgMusicURL = null;\nvar bgMusicControls = true;\n\n// DOM элементы\nvar odrag = document.getElementById('drag-container');\nvar ospin = document.getElementById('spin-container');\nvar ground = document.getElementById('ground');\n\nvar additionalImages = [\n  {\n    src: '/img/gallery/7.jpg',\n    srcset: '/img/gallery/7.jpg 1x, /img/gallery/7@2x.jpg 2x',\n    alt: 'Gallery Image 7',\n  },\n  {\n    src: '/img/gallery/8.jpg',\n    srcset: '/img/gallery/8.jpg 1x, /img/gallery/8@2x.jpg 2x',\n    alt: 'Gallery Image 8',\n  },\n  {\n    src: '/img/gallery/9.jpg',\n    srcset: '/img/gallery/9.jpg 1x, /img/gallery/9@2x.jpg 2x',\n    alt: 'Gallery Image 9',\n  },\n  {\n    src: '/img/gallery/10.jpg',\n    srcset: '/img/gallery/10.jpg 1x, /img/gallery/10@2x.jpg 2x',\n    alt: 'Gallery Image 10',\n  },\n  {\n    src: '/img/gallery/11.jpg',\n    srcset: '/img/gallery/11.jpg 1x, /img/gallery/11@2x.jpg 2x',\n    alt: 'Gallery Image 11',\n  },\n  {\n    src: '/img/gallery/12.jpg',\n    srcset: '/img/gallery/12.jpg 1x, /img/gallery/12@2x.jpg 2x',\n    alt: 'Gallery Image 12',\n  },\n];\n\n// Функция для обновления карусели при изменении экрана\nfunction updateGallery() {\n  if (window.innerWidth >= 1200) {\n    radius = 470;\n    imgWidth = 234;\n    imgHeight = 450.6;\n\n    additionalImages.forEach(imageData => {\n      if (!ospin.querySelector(`img[src=\"${imageData.src}\"]`)) {\n        let img = document.createElement('img');\n        img.src = imageData.src;\n        img.srcset = imageData.srcset;\n        img.alt = imageData.alt;\n        ospin.appendChild(img);\n      }\n    });\n  } else {\n    radius = 140;\n    imgWidth = 120;\n    imgHeight = 170;\n\n    additionalImages.forEach(imageData => {\n      let img = ospin.querySelector(`img[src=\"${imageData.src}\"]`);\n      if (img) img.remove();\n    });\n  }\n\n  // Пересчитываем размеры контейнера изображений\n  ospin.style.width = imgWidth + 'px';\n  ospin.style.height = imgHeight + 'px';\n\n  // Обновляем размеры всех изображений\n  let allImages = ospin.getElementsByTagName('img');\n  for (let img of allImages) {\n    img.style.width = imgWidth + 'px';\n    img.style.height = imgHeight + 'px';\n  }\n\n  // Пересчёт размеров ground\n  ground.style.width = radius * 3 + 'px';\n  ground.style.height = radius * 3 + 'px';\n\n  // Пересчёт позиций элементов\n  init(1);\n\n  // ⚡ Подключаем обработку кликов для открытия изображений в полном размере\n  setupLightbox();\n}\n\nfunction setupLightbox() {\n  let images = ospin.getElementsByTagName('img');\n  let lightbox = document.getElementById('lightbox');\n  let lightboxImg = document.getElementById('lightbox-img');\n  let closeBtn = document.querySelector('.close');\n\n  // Добавляем обработчик клика для каждого изображения\n  for (let img of images) {\n    img.addEventListener('click', function () {\n      lightbox.style.display = 'flex'; // Показываем модальное окно\n      setTimeout(() => {\n        lightbox.classList.add('show');\n        lightboxImg.src = this.src;\n        lightboxImg.alt = this.alt;\n      }, 10); // Немного задержки, чтобы избежать мгновенной анимации\n    });\n  }\n\n  // Закрытие модального окна при клике на \"×\"\n  closeBtn.addEventListener('click', function () {\n    lightbox.classList.remove('show');\n    setTimeout(() => {\n      lightbox.style.display = 'none';\n      lightboxImg.src = ''; // Очистка src после закрытия\n    }, 300); // Убираем через 300мс, после анимации\n  });\n\n  // Закрытие при клике вне изображения\n  lightbox.addEventListener('click', function (e) {\n    if (e.target === lightbox) {\n      lightbox.classList.remove('show');\n      setTimeout(() => {\n        lightbox.style.display = 'none';\n        lightboxImg.src = ''; // Очистка src после закрытия\n      }, 300);\n    }\n  });\n}\n\n// Функция для размещения изображений по кругу\nfunction init(delayTime) {\n  var aImg = ospin.getElementsByTagName('img');\n  var aVid = ospin.getElementsByTagName('video');\n  var aEle = [...aImg, ...aVid];\n\n  // Размер контейнера для изображений\n  ospin.style.width = imgWidth + 'px';\n  ospin.style.height = imgHeight + 'px';\n\n  // Размещение изображений\n  for (var i = 0; i < aEle.length; i++) {\n    let angle = (i * 360) / aEle.length;\n    aEle[i].style.transform = `rotateY(${angle}deg) translateZ(${radius}px)`;\n    aEle[i].style.transition = 'transform 1s';\n    aEle[i].style.transitionDelay = delayTime || (aEle.length - i) / 4 + 's';\n  }\n}\n\n// Функция применения трансформации\nfunction applyTranform(obj) {\n  if (tY > 180) tY = 180;\n  if (tY < 0) tY = 0;\n  obj.style.transform = 'rotateX(' + -tY + 'deg) rotateY(' + tX + 'deg)';\n}\n\n// Управление вращением\nfunction playSpin(yes) {\n  ospin.style.animationPlayState = yes ? 'running' : 'paused';\n}\n\n// Переменные для управления вращением\nvar sX,\n  sY,\n  nX,\n  nY,\n  desX = 0,\n  desY = 0,\n  tX = 0,\n  tY = 10;\n\n// Автоматическое вращение\nif (autoRotate) {\n  var animationName = rotateSpeed > 0 ? 'spin' : 'spinRevert';\n  ospin.style.animation = `${animationName} ${Math.abs(\n    rotateSpeed\n  )}s infinite linear`;\n}\n\n// Фоновая музыка\nif (bgMusicURL) {\n  document.getElementById('music-container').innerHTML += `\n  <audio src=\"${bgMusicURL}\" ${bgMusicControls ? 'controls' : ''} autoplay loop>\n    <p>Your browser does not support the audio element.</p>\n  </audio>\n  `;\n}\n\n// Управление мышью\ndocument.onpointerdown = function (e) {\n  clearInterval(odrag.timer);\n  e = e || window.event;\n  var sX = e.clientX,\n    sY = e.clientY;\n\n  this.onpointermove = function (e) {\n    e = e || window.event;\n    var nX = e.clientX,\n      nY = e.clientY;\n    desX = nX - sX;\n    desY = nY - sY;\n    tX += desX * 0.1;\n    tY += desY * 0.1;\n    applyTranform(odrag);\n    sX = nX;\n    sY = nY;\n  };\n\n  this.onpointerup = function (e) {\n    odrag.timer = setInterval(function () {\n      desX *= 0.95;\n      desY *= 0.95;\n      tX += desX * 0.1;\n      tY += desY * 0.1;\n      applyTranform(odrag);\n      playSpin(false);\n      if (Math.abs(desX) < 0.5 && Math.abs(desY) < 0.5) {\n        clearInterval(odrag.timer);\n        playSpin(true);\n      }\n    }, 17);\n    this.onpointermove = this.onpointerup = null;\n  };\n\n  return false;\n};\n\n// Управление колёсиком мыши (изменение радиуса)\ndocument.onmousewheel = function (e) {\n  e = e || window.event;\n  var d = e.wheelDelta / 20 || -e.detail;\n  radius += d;\n  updateGallery();\n};\n\n// Инициализация галереи и обработка изменения размера экрана\nsetTimeout(updateGallery, 1000);\nwindow.addEventListener('resize', updateGallery);\n","document.addEventListener('DOMContentLoaded', function () {\n  const popup = document.querySelector('.js-cookies-popup');\n  const acceptBtn = document.querySelector('.js-accept-button');\n  const declineBtn = document.querySelector('.js-decline-button');\n\n  if (localStorage.getItem('cookiesAccepted')) {\n    popup.classList.add('hidden');\n  }\n\n  if (localStorage.getItem('cookiesDeclined')) {\n    popup.classList.add('hidden');\n  }\n\n  acceptBtn.addEventListener('click', function () {\n    localStorage.setItem('cookiesAccepted', 'true');\n    popup.classList.add('hidden');\n  });\n\n  declineBtn.addEventListener('click', function () {\n    localStorage.setItem('cookiesDeclined', 'true');\n    popup.classList.add('hidden');\n  });\n});\n"],"names":["menuToggle","menu","tiltElement","initialRotateX","initialRotateY","VanillaTilt","heroBtn","radius","rotateSpeed","imgWidth","imgHeight","odrag","ospin","ground","additionalImages","updateGallery","imageData","img","allImages","init","setupLightbox","images","lightbox","lightboxImg","closeBtn","e","delayTime","aImg","aVid","aEle","i","angle","applyTranform","obj","tY","tX","playSpin","yes","desX","desY","animationName","sX","sY","nX","nY","d","popup","acceptBtn","declineBtn"],"mappings":"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"}